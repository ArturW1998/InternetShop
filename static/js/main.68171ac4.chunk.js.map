{"version":3,"sources":["components/shop-header/index.js","components/shop-header/shop-header.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/book-list/index.js","components/book-list/book-list.js","context/bookstore-service-context/bookstore-service-context.js","hocs/hoc/with-bookstore-service.js","actions/index.js","utils/compose.js","utils/amounts.js","utils/updateOrder.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","containers/book-list/book-list.js","containers/book-list/index.js","components/shopping-cart-row/index.js","components/shopping-cart-row/shopping-cart-row.js","containers/shopping-cart-table/shopping-cart-table.js","containers/shopping-cart-table/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","reducers/book-list.js","reducers/shopping-cart.js","store/index.js","reducers/index.js","index.js","services/bookstore-service.js"],"names":["ShopHeader","_ref","numItems","total","react_default","a","createElement","className","react_router_dom","to","BookListItem","_ref$book","book","title","author","price","coverImage","onAddedToCart","src","alt","onClick","BookList","books","map","key","id","components_book_list_item","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","Object","assign","booksLoaded","newBooks","type","payload","booksError","error","bookAddedToCart","bookId","fetchBooks","dispatch","getBooks","then","data","catch","err","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","amounts","negativeAmount","positiveAmount","updateTotalOrder","cartItems","val","forEach","obj","updateOrder","state","quantity","bookList","shoppingCart","find","itemIndex","findIndex","_ref2","newItems","item","idx","count","concat","toConsumableArray","slice","updateCartItems","undefined","_item$id","_item$count","_item$title","_item$total","updateCartItem","orderTotal","countTotal","Spinner","ErrorIndicator","BookListContainer","this","_this$props","loading","components_spinner","components_error_indicator","components_book_list","Component","connect","_ref$bookList","bindActionCreators","ShoppingCartRow","_ref$item","onIncrease","onDecrease","onDelete","mapDispatchToProps","ShoppingCartTable","_ref2$shoppingCart","items","components_shopping_cart_row","HomePage","containers_book_list","containers_shopping_cart_table","CartPage","App","role","components_shop_header","react_router","path","component","exact","ErrorBoundry","hasError","setState","children","initialState","load","namespace","updateBookList","timeout","updateShoppingCart","reducer","action","composeEnhancers","store","createStore","applyMiddleware","save","thunkMiddleware","next","getState","console","log","setTimeout","Promise","resolve","reject","Math","random","Error","_this","ReactDOM","render","es","error_boundry","value","basename","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.68171ac4.chunk.js","sourcesContent":["import ShopHeader from './shop-header';\n\nexport default ShopHeader;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './shop-header.css';\n\nconst ShopHeader = ({ numItems, total }) => (\n  <header className=\"shop-header row\">\n    <Link to=\"/\">\n      <div className=\"logo text-dark\">InternetShop</div>\n    </Link>\n    <Link to=\"/cart\">\n      <div className=\"shopping-cart\">\n        <i className=\"cart-icon fa fa-shopping-cart\" />\n        {numItems} items (${total})\n      </div>\n    </Link>\n  </header>\n);\n\nexport default ShopHeader;\n","import BookListItem from './book-list-item';\n\nexport default BookListItem;\n","import React from 'react';\n\nimport './book-list-item.css';\n\nconst BookListItem = ({ book: { title, author, price, coverImage }, onAddedToCart }) => (\n  <div className=\"book-list-item\">\n    <div className=\"book-cover\">\n      <img src={coverImage} alt=\"cover\" />\n    </div>\n    <div className=\"book-details\">\n      <span className=\"book-title\">{title}</span>\n      <div className=\"book-author\">{author}</div>\n      <div className=\"book-price\">${price}</div>\n      <button\n        onClick={onAddedToCart}\n        className=\"btn btn-info add-to-cart\">\n        Add to cart\n      </button>\n    </div>\n  </div>\n);\n\nexport default BookListItem;\n","import BookList from './book-list';\n\nexport default BookList;\n","import React from 'react';\nimport BookListItem from '../book-list-item';\n\nimport './book-list.css';\n\nconst BookList = ({ books, onAddedToCart }) => (\n  <ul className=\"book-list\">\n    {books.map(book => (\n      <li key={book.id}>\n        <BookListItem\n          book={book}\n          onAddedToCart={() => onAddedToCart(book.id)} />\n      </li>\n    ))}\n  </ul>\n);\n\nexport default BookList;\n","import React from 'react';\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer\n} = React.createContext();\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer\n};\n","import React from 'react';\nimport { BookstoreServiceConsumer } from '../../context/bookstore-service-context';\n\nconst withBookstoreService = () => (Wrapped) => (props => (\n  <BookstoreServiceConsumer>\n    {bookstoreService => (\n      <Wrapped {...props} bookstoreService={bookstoreService} />\n    )}\n  </BookstoreServiceConsumer>\n));\n\nexport default withBookstoreService;\n","const booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  };\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nconst booksError = (error) => {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  };\n};\n\nexport const bookAddedToCart = (bookId) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  };\n};\n\nexport const bookRemovedFromCart = (bookId) => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nexport const allBooksRemovedFromCart = (bookId) => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\n/* eslint-disable no-unused-vars */\nconst fetchBooksOld = (bookstoreService, dispatch) => () => {\n  dispatch(booksRequested());\n  bookstoreService.getBooks()\n    .then((data) => dispatch(booksLoaded(data)))\n    .catch((err) => dispatch(booksError(err)));\n};\n/* eslint-enable */\n\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\n  dispatch(booksRequested());\n  bookstoreService.getBooks()\n    .then((data) => dispatch(booksLoaded(data)))\n    .catch((err) => dispatch(booksError(err)));\n};\n\nexport {\n  fetchBooks\n};\n","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp);\n};\n\nexport default compose;\n","const amounts = {\n  negativeAmount: -1,\n  positiveAmount: 1\n};\n\nexport default amounts;\n","const updateCartItems = (cartItems, item, idx) => {\n\n  if (item.count === 0) {\n    return [\n      ...cartItems.slice(0, idx),\n      ...cartItems.slice(idx + 1)\n    ];\n  }\n\n  if (idx === -1) {\n    return [\n      ...cartItems,\n      item\n    ];\n  }\n\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1)\n  ];\n};\n\nconst updateCartItem = (book, item = {}, quantity) => {\n\n  const {\n    id = book.id,\n    count = 0,\n    title = book.title,\n    total = 0 } = item;\n\n  return {\n    id,\n    title,\n    count: count + quantity,\n    total: total + quantity * book.price\n  };\n};\n\nconst updateTotalOrder = (cartItems, val) => {\n  let total = 0;\n\n  cartItems.forEach(obj => {\n    total += obj[val];\n  });\n\n  return total;\n};\n\nconst updateOrder = (state, bookId, quantity) => {\n  const { bookList: { books }, shoppingCart: { cartItems } } = state;\n\n  const book = books.find(({ id }) => id === bookId);\n  const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n  const item = cartItems[itemIndex];\n\n  const newItem = updateCartItem(book, item, quantity);\n  const newItems = updateCartItems(cartItems, newItem, itemIndex);\n\n  const orderTotal = updateTotalOrder(newItems, 'total');\n  const countTotal = updateTotalOrder(newItems, 'count');\n\n  return {\n    orderTotal,\n    countTotal,\n    cartItems: newItems\n  };\n};\n\nexport default updateOrder;\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => <div>loading...</div>;\n\nexport default Spinner;\n","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\n\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => <div>Error!</div>;\n\nexport default ErrorIndicator;\n","import React, { Component } from 'react';\nimport BookList from '../../components/book-list';\n\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { withBookstoreService } from '../../hocs/hoc';\nimport { fetchBooks, bookAddedToCart } from '../../actions';\nimport { compose } from '../../utils';\n\nimport Spinner from '../../components/spinner';\nimport ErrorIndicator from '../../components/error-indicator';\n\nclass BookListContainer extends Component {\n\n  componentDidMount() {\n    this.props.fetchBooks();\n  }\n\n  render() {\n    const { books, loading, error, onAddedToCart } = this.props;\n\n    if (loading) {\n      return <Spinner />;\n    }\n\n    if (error) {\n      return <ErrorIndicator />;\n    }\n\n    return <BookList books={books} onAddedToCart={onAddedToCart} />;\n  }\n}\n\nconst mapStateToProps = ({ bookList: { books, loading, error }}) => ({ books, loading, error });\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => (\n  bindActionCreators({\n    fetchBooks: fetchBooks(bookstoreService),\n    onAddedToCart: bookAddedToCart\n  }, dispatch)\n);\n\nexport default compose(\n  withBookstoreService(),\n  connect(mapStateToProps, mapDispatchToProps)\n)(BookListContainer);\n","import BookList from './book-list';\n\nexport default BookList;\n","import ShoppingCartRow from './shopping-cart-row';\n\nexport default ShoppingCartRow;\n","import React from 'react';\n\nimport './shopping-cart-row.css';\n\nconst ShoppingCartRow = ({ item: { id, title, count, total }, idx, onIncrease, onDecrease, onDelete }) => (\n  <tr>\n    <td>{idx + 1}</td>\n    <td>{title}</td>\n    <td>{count}</td>\n    <td>${total}</td>\n    <td>\n      <button\n        onClick={() => onDelete(id)}\n        className=\"btn btn-outline-danger btn-sm float-right\">\n        <i className=\"fa fa-trash-o\" />\n      </button>\n      <button\n        onClick={() => onIncrease(id)}\n        className=\"btn btn-outline-success btn-sm float-right\">\n        <i className=\"fa fa-plus-circle\" />\n      </button>\n      <button\n        onClick={() => onDecrease(id)}\n        className=\"btn btn-outline-warning btn-sm float-right\">\n        <i className=\"fa fa-minus-circle\" />\n      </button>\n    </td>\n  </tr>\n);\n\nexport default ShoppingCartRow;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ShoppingCartRow from '../../components/shopping-cart-row';\n\nimport {\n  bookAddedToCart,\n  bookRemovedFromCart,\n  allBooksRemovedFromCart } from '../../actions';\n\nimport './shopping-cart-table.css';\n\nconst ShoppingCartTable = ({ items, total, onIncrease, onDecrease, onDelete }) => (\n  <div className=\"shopping-cart-table\">\n    <h2>Your Order</h2>\n\n    <div className=\"table-responsive\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {items.map((item, idx) => (\n            <ShoppingCartRow\n              key={idx}\n              item={item}\n              idx={idx}\n              onIncrease={onIncrease}\n              onDecrease={onDecrease}\n              onDelete={onDelete} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n\n    <div className=\"total\">\n      Total: ${total}\n    </div>\n  </div>\n);\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal }}) => ({\n  items: cartItems,\n  total: orderTotal\n});\n\nconst mapDispatchToProps = {\n  onIncrease: bookAddedToCart,\n  onDecrease: bookRemovedFromCart,\n  onDelete: allBooksRemovedFromCart\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n","import ShoppingCartTable from './shopping-cart-table';\n\nexport default ShoppingCartTable;\n","import React from 'react';\nimport BookList from '../../containers/book-list';\nimport ShoppingCartTable from '../../containers/shopping-cart-table';\n\nconst HomePage = () => (\n  <div>\n    <BookList />\n    <ShoppingCartTable />\n  </div>\n);\n\nexport default HomePage;\n","import React from 'react';\n\nconst CartPage = () => <div>Cart Page</div>;\n\nexport default CartPage;\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport ShopHeader from '../shop-header';\nimport { HomePage, CartPage } from '../pages';\n\nimport './app.css';\n\nconst App = ({ count, total }) => (\n  <main role=\"main\" className=\"container\">\n    <ShopHeader numItems={count} total={total} />\n\n    <Switch>\n      <Route\n        path=\"/\"\n        component={HomePage}\n        exact />\n\n      <Route\n        path=\"/cart\"\n        component={CartPage}\n        />\n    </Switch>\n  </main>\n);\n\nconst mapStateToProps = ({ shoppingCart: { countTotal, orderTotal }}) => ({\n  count: countTotal,\n  total: orderTotal\n});\n\nexport default connect(mapStateToProps)(App);\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundry extends Component {\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}","import { load } from 'redux-localstorage-simple';\n\nlet initialState = load({ namespace: 're-store' });\n\nif (!initialState || !initialState.bookList || !initialState.bookList.length) {\n  initialState = {\n    bookList: {\n      books: [],\n      loading: true,\n      error: null\n    },\n  }\n}\n\nconst updateBookList = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        books: [],\n        loading: true,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        books: payload,\n        loading: false,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        books: [],\n        loading: false,\n        error: payload\n      };\n\n    default:\n      return state.bookList;\n  }\n};\n\nexport default updateBookList;\n","import { load } from 'redux-localstorage-simple';\nimport { amounts, updateOrder } from '../utils';\n\nlet initialState = load({ namespace: 're-store' });\n\nif (!initialState || !initialState.shoppingCart || !initialState.shoppingCart.length) {\n  initialState = {\n    shoppingCart: {\n      cartItems: [],\n      orderTotal: 0,\n      countTotal: 0,\n    },\n  }\n}\n\nconst updateShoppingCart = (state = initialState, { type, payload }) => {\n  const { negativeAmount, positiveAmount } = amounts;\n\n  switch(type) {\n    case 'BOOK_ADDED_TO_CART':\n      return updateOrder(state, payload, positiveAmount);\n\n    case 'BOOK_REMOVED_FROM_CART':\n      return updateOrder(state, payload, negativeAmount);\n\n    case 'ALL_BOOKS_REMOVED_FROM_CART':\n      const item = state.shoppingCart.cartItems.find(({ id }) => id === payload);\n      return updateOrder(state, payload, -item.count);\n\n    default:\n      return state.shoppingCart;\n  }\n};\n\nexport default updateShoppingCart;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { save } from 'redux-localstorage-simple'\n\nimport reducer from '../reducers';\n\nconst composeEnhancers =\n  process.env.NODE_ENV !== 'production' &&\n  typeof window === 'object' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\n\nconst logMiddleware = ({ getState }) => (next) => (action) => {\n  console.log(action.type, getState());\n  return next(action);\n};\n\nconst stringMiddleware = () => (next) => (action) => {\n  if (typeof action === 'string') {\n    return next({\n      type: action\n    });\n  }\n\n  return next(action);\n};\n\nconst store = createStore(reducer, composeEnhancers(\n     applyMiddleware(save({ namespace: 're-store' }), thunkMiddleware, stringMiddleware, logMiddleware)\n   ));\n\n\nconst delayedActionCreator = (timeout) => (dispatch) => {\n  setTimeout(() => dispatch({\n    type: 'DELAYED_ACTION'\n  }), timeout);\n};\n\nstore.dispatch(delayedActionCreator(3000));\n\nexport default store;\n","import updateBookList from './book-list';\nimport updateShoppingCart from './shopping-cart';\n\nconst reducer = (state, action) => ({\n  bookList: updateBookList(state, action),\n  shoppingCart: updateShoppingCart(state, action)\n});\n\nexport default reducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './context/bookstore-service-context';\n\nimport store from './store/';\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router basename='/InternetShop/'>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n","export default class BookstoreService {\n\n  data = [\n    {\n      id: 1,\n      title: 'Production-Ready Microservices',\n      author: 'Susan J. Fowler',\n      price: 32,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'},\n    {\n      id: 2,\n      title: 'Release It!',\n      author: 'Michael T. Nygard',\n      price: 45,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'}\n  ];\n\n  getBooks = () => new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (Math.random() > 0.75) {\n        reject(new Error('Something bad happened'));\n      } else {\n        resolve(this.data);\n      }\n    }, 700);\n  })\n}\n"],"sourceRoot":""}